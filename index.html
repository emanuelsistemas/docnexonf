<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API NFe/NFC-e - Documentação Completa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --text-primary: #f0f6fc;
            --text-secondary: #c9d1d9;
            --text-muted: #8b949e;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --accent-orange: #f85149;
            --border-color: #30363d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
        }

        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 280px;
            background-color: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            z-index: 1000;
            transition: transform 0.3s ease;
        }

        .sidebar-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-green));
        }

        .sidebar-header h3 {
            color: white;
            font-weight: 600;
            margin: 0;
        }

        .sidebar-header .subtitle {
            color: rgba(255,255,255,0.8);
            font-size: 0.9rem;
            margin-top: 0.25rem;
        }

        .nav-section {
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .nav-section-title {
            padding: 0 1.5rem 0.5rem;
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            transition: all 0.2s ease;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
        }

        .nav-link:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .nav-link.active {
            background-color: var(--accent-blue);
            color: white;
        }

        .nav-link i {
            width: 20px;
            margin-right: 0.75rem;
            font-size: 0.9rem;
        }

        .main-content {
            margin-left: 280px;
            min-height: 100vh;
            background-color: var(--bg-primary);
        }

        .content-header {
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 1.5rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .content-body {
            padding: 2rem;
            max-width: 1200px;
        }

        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 1.5rem;
        }

        .card-header {
            background-color: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 1.5rem;
            font-weight: 600;
        }

        .card-body {
            padding: 1.5rem;
        }

        .endpoint-card {
            border-left: 4px solid var(--accent-blue);
        }

        .endpoint-card.post {
            border-left-color: var(--accent-green);
        }

        .endpoint-card.get {
            border-left-color: var(--accent-blue);
        }

        .method-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 0.75rem;
        }

        .method-get {
            background-color: var(--accent-blue);
            color: white;
        }

        .method-post {
            background-color: var(--accent-green);
            color: white;
        }

        .code-block {
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
        }

        .code-block pre {
            margin: 0;
            color: var(--text-primary);
        }

        .btn-primary {
            background-color: var(--accent-blue);
            border-color: var(--accent-blue);
        }

        .btn-success {
            background-color: var(--accent-green);
            border-color: var(--accent-green);
        }

        .btn-outline-primary {
            color: var(--accent-blue);
            border-color: var(--accent-blue);
        }

        .btn-outline-primary:hover {
            background-color: var(--accent-blue);
            border-color: var(--accent-blue);
        }

        .alert-info {
            background-color: rgba(88, 166, 255, 0.1);
            border-color: var(--accent-blue);
            color: var(--text-primary);
        }

        .alert-success {
            background-color: rgba(63, 185, 80, 0.1);
            border-color: var(--accent-green);
            color: var(--text-primary);
        }

        .alert-warning {
            background-color: rgba(248, 81, 73, 0.1);
            border-color: var(--accent-orange);
            color: var(--text-primary);
        }

        .table-dark {
            background-color: var(--bg-secondary);
            border-color: var(--border-color);
            color: var(--text-primary);
        }

        .table-dark td, .table-dark th {
            border-color: var(--border-color);
            color: var(--text-primary);
        }

        .text-muted {
            color: var(--text-muted) !important;
        }

        .text-secondary {
            color: var(--text-secondary) !important;
        }

        p, li, span, div {
            color: var(--text-primary);
        }

        h1, h2, h3, h4, h5, h6 {
            color: var(--text-primary);
        }

        /* Melhorias específicas para contraste */
        .card-body p, .card-body li, .card-body span {
            color: var(--text-secondary) !important;
        }

        .card-body h5, .card-body h6 {
            color: var(--text-primary) !important;
        }

        .alert {
            color: var(--text-primary) !important;
        }

        .small {
            color: var(--text-secondary) !important;
        }

        code {
            color: var(--accent-blue) !important;
            background-color: var(--bg-tertiary) !important;
            padding: 2px 4px !important;
            border-radius: 3px !important;
        }

        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .status-online {
            background-color: var(--accent-green);
        }

        .status-offline {
            background-color: var(--accent-orange);
        }

        .mobile-toggle {
            display: none;
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 1001;
            background-color: var(--accent-blue);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 0.5rem;
            font-size: 1.2rem;
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.show {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .mobile-toggle {
                display: block;
            }

            .content-body {
                padding: 1rem;
            }
        }

        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: var(--accent-blue);
            border: none;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .code-block:hover .copy-btn {
            opacity: 1;
        }

        .code-block {
            position: relative;
        }

        /* Menu de Endpoints */
        .endpoints-menu {
            background-color: var(--bg-tertiary);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 2rem;
        }

        .endpoint-item {
            display: flex;
            align-items: center;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            background-color: var(--bg-secondary);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }

        .endpoint-item:hover {
            background-color: var(--bg-tertiary);
            border-left-color: var(--accent-blue);
            transform: translateX(5px);
        }

        .endpoint-item code {
            margin-left: 0.75rem;
            flex-grow: 1;
        }

        .endpoint-item small {
            margin-left: 0.75rem;
            opacity: 0.8;
        }

        /* Busca */
        .search-container {
            position: sticky;
            top: 0;
            z-index: 200;
            background-color: var(--bg-secondary);
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 1rem;
        }

        .search-input {
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            border-radius: 6px;
            padding: 0.75rem 1rem 0.75rem 3rem;
            width: 100%;
            font-size: 0.9rem;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 2px rgba(88, 166, 255, 0.2);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        .search-results {
            background-color: var(--bg-tertiary);
            border-radius: 6px;
            margin-top: 0.5rem;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }

        .search-result-item {
            padding: 0.75rem;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .search-result-item:hover {
            background-color: var(--bg-secondary);
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .highlight {
            background-color: var(--accent-blue);
            color: white;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <button class="mobile-toggle" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>

    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3><i class="fas fa-receipt"></i> API NFe/NFC-e</h3>
            <div class="subtitle">Documentação Completa v1.1.0</div>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Geral</div>
            <button class="nav-link active" onclick="showSection('overview')">
                <i class="fas fa-home"></i> Visão Geral
            </button>
            <button class="nav-link" onclick="showSection('all-endpoints')">
                <i class="fas fa-list"></i> Todos os Endpoints
            </button>
            <button class="nav-link" onclick="showSection('status')">
                <i class="fas fa-heartbeat"></i> Status da API
            </button>
            <button class="nav-link" onclick="showSection('authentication')">
                <i class="fas fa-key"></i> Autenticação
            </button>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">NFe (Modelo 55)</div>
            <button class="nav-link" onclick="showSection('nfe-generate')">
                <i class="fas fa-file-invoice"></i> Gerar NFe
            </button>
            <button class="nav-link" onclick="showSection('nfe-send')">
                <i class="fas fa-paper-plane"></i> Enviar SEFAZ
            </button>
            <button class="nav-link" onclick="showSection('nfe-query')">
                <i class="fas fa-search"></i> Consultar NFe
            </button>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">NFC-e (Modelo 65)</div>
            <button class="nav-link" onclick="showSection('nfce-generate')">
                <i class="fas fa-receipt"></i> Gerar NFC-e
            </button>
            <button class="nav-link" onclick="showSection('nfce-send')">
                <i class="fas fa-share"></i> Enviar SEFAZ
            </button>
            <button class="nav-link" onclick="showSection('nfce-query')">
                <i class="fas fa-eye"></i> Consultar NFC-e
            </button>
            <button class="nav-link" onclick="showSection('nfce-cancel')">
                <i class="fas fa-times-circle"></i> Cancelar NFC-e
            </button>
            <button class="nav-link" onclick="showSection('nfce-qrcode')">
                <i class="fas fa-qrcode"></i> QR Code
            </button>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Configurações</div>
            <button class="nav-link" onclick="showSection('environments')">
                <i class="fas fa-cogs"></i> Ambientes
            </button>
            <button class="nav-link" onclick="showSection('logs')">
                <i class="fas fa-list-alt"></i> Logs
            </button>
            <button class="nav-link" onclick="showSection('examples')">
                <i class="fas fa-code"></i> Exemplos
            </button>
        </div>
    </div>

    <div class="main-content">
        <div class="content-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1 id="section-title">Visão Geral</h1>
                    <p class="text-muted mb-0" id="section-subtitle">API completa para emissão de NFe e NFC-e</p>
                </div>
                <div class="col-md-4">
                    <div class="search-container position-relative">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" id="searchInput" placeholder="Buscar endpoints, métodos, exemplos...">
                        <div class="search-results" id="searchResults"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-body">
            <!-- Overview Section -->
            <div id="overview" class="section active">
                <div class="row">
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">
                                <i class="fas fa-info-circle"></i> Sobre a API
                            </div>
                            <div class="card-body">
                                <p>A API NFe/NFC-e é uma solução completa para emissão de documentos fiscais eletrônicos, suportando tanto NFe (Modelo 55) quanto NFC-e (Modelo 65).</p>
                                
                                <h5>Características Principais:</h5>
                                <ul>
                                    <li><strong>Dual Mode:</strong> Suporte a NFe e NFC-e na mesma API</li>
                                    <li><strong>Ambientes:</strong> Homologação e Produção</li>
                                    <li><strong>Certificados:</strong> Integração com Supabase</li>
                                    <li><strong>Logs:</strong> Sistema completo de monitoramento</li>
                                    <li><strong>SSL:</strong> HTTPS obrigatório</li>
                                </ul>

                                <div class="alert alert-info">
                                    <i class="fas fa-lightbulb"></i>
                                    <strong>Dica:</strong> A API detecta automaticamente se deve gerar NFe ou NFC-e baseado nos dados enviados.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">
                                <i class="fas fa-server"></i> Informações do Servidor
                            </div>
                            <div class="card-body">
                                <p><strong>Base URL:</strong><br>
                                <code>https://apinfe.nexopdv.com</code></p>
                                
                                <p><strong>Status:</strong><br>
                                <span class="status-indicator status-online"></span>Online</p>
                                
                                <p><strong>Versão:</strong><br>
                                v1.1.0</p>
                                
                                <p><strong>Ambiente Padrão:</strong><br>
                                Homologação (2)</p>
                                
                                <button class="btn btn-outline-primary btn-sm" onclick="testAPI()">
                                    <i class="fas fa-play"></i> Testar API
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- All Endpoints Section -->
            <div id="all-endpoints" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-list"></i> Todos os Endpoints da API
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="endpoints-menu">
                                    <h5><i class="fas fa-file-invoice text-primary"></i> NFe (Modelo 55)</h5>
                                    <p class="text-muted small">Para vendas B2B ou valores acima de R$ 5.000 - 7 endpoints disponíveis</p>

                                    <div class="endpoint-item" onclick="showSection('nfe-generate')">
                                        <span class="method-badge method-post">POST</span>
                                        <code>/api/gerar-nfe</code>
                                        <small>Gerar NFe (XML apenas)</small>
                                    </div>

                                    <div class="endpoint-item" onclick="showSection('nfe-send')">
                                        <span class="method-badge method-post">POST</span>
                                        <code>/api/enviar-sefaz</code>
                                        <small>Enviar para SEFAZ</small>
                                    </div>

                                    <div class="endpoint-item" onclick="showSection('nfe-query')">
                                        <span class="method-badge method-get">GET</span>
                                        <code>/api/consultar-nfe</code>
                                        <small>Consultar NFe</small>
                                    </div>

                                    <div class="endpoint-item" onclick="showSection('nfe-completa')">
                                        <span class="method-badge method-post">POST</span>
                                        <code>/api/nfe-completa</code>
                                        <small>NFe Completa (Assinada + SEFAZ)</small>
                                    </div>

                                    <div class="endpoint-item" onclick="showSection('nfe-consultar-completa')">
                                        <span class="method-badge method-post">POST</span>
                                        <code>/api/consultar-nfe-completa</code>
                                        <small>Consultar Status NFe</small>
                                    </div>

                                    <div class="endpoint-item" onclick="showSection('nfe-cancelar')">
                                        <span class="method-badge method-post">POST</span>
                                        <code>/api/cancelar-nfe-completa</code>
                                        <small>Cancelar NFe</small>
                                    </div>

                                    <div class="endpoint-item" onclick="showSection('nfe-carta-correcao')">
                                        <span class="method-badge method-post">POST</span>
                                        <code>/api/carta-correcao-nfe</code>
                                        <small>Carta de Correção</small>
                                    </div>
                                </div>



                                <div class="endpoints-menu">
                                    <h5><i class="fas fa-cogs text-info"></i> Sistema</h5>
                                    <p class="text-muted small">Configurações e monitoramento</p>

                                    <div class="endpoint-item" onclick="showSection('status')">
                                        <span class="method-badge method-get">GET</span>
                                        <code>/api/status</code>
                                        <small>Status da API</small>
                                    </div>

                                    <div class="endpoint-item" onclick="showSection('status-sefaz')">
                                        <span class="method-badge method-get">GET</span>
                                        <code>/api/status-sefaz</code>
                                        <small>Status dos Servidores SEFAZ</small>
                                    </div>

                                    <div class="endpoint-item" onclick="showSection('logs')">
                                        <span class="method-badge method-get">GET</span>
                                        <code>/api/logs</code>
                                        <small>Sistema de Logs</small>
                                    </div>

                                    <div class="endpoint-item" onclick="showSection('environments')">
                                        <span class="method-badge method-get">GET</span>
                                        <code>/api/config-nfce</code>
                                        <small>Configurações NFC-e</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="endpoints-menu">
                                    <h5><i class="fas fa-receipt text-success"></i> NFC-e (Modelo 65)</h5>
                                    <p class="text-muted small">Para vendas ao consumidor até R$ 5.000</p>

                                    <div class="endpoint-item" onclick="showSection('nfce-generate')">
                                        <span class="method-badge method-post">POST</span>
                                        <code>/api/gerar-nfce</code>
                                        <small>Gerar NFC-e</small>
                                    </div>
                                    <div class="endpoint-item" onclick="showSection('nfce-send')">
                                        <span class="method-badge method-post">POST</span>
                                        <code>/api/enviar-nfce-sefaz</code>
                                        <small>Enviar para SEFAZ</small>
                                    </div>
                                    <div class="endpoint-item" onclick="showSection('nfce-query')">
                                        <span class="method-badge method-get">GET</span>
                                        <code>/api/consultar-nfce</code>
                                        <small>Consultar NFC-e</small>
                                    </div>
                                    <div class="endpoint-item" onclick="showSection('nfce-cancel')">
                                        <span class="method-badge method-post">POST</span>
                                        <code>/api/cancelar-nfce</code>
                                        <small>Cancelar NFC-e</small>
                                    </div>
                                    <div class="endpoint-item" onclick="showSection('nfce-qrcode')">
                                        <span class="method-badge method-post">POST</span>
                                        <code>/api/gerar-qrcode-nfce</code>
                                        <small>Gerar QR Code</small>
                                    </div>
                                </div>


                            </div>
                        </div>

                        <div class="alert alert-info mt-4">
                            <div class="row">
                                <div class="col-md-8">
                                    <h6><i class="fas fa-info-circle"></i> Resumo da API</h6>
                                    <p class="mb-0">
                                        <strong>16 endpoints</strong> disponíveis |
                                        <strong>7 NFe</strong> + <strong>5 NFC-e</strong> + <strong>4 Sistema</strong><br>
                                        <small>Clique em qualquer endpoint acima para ver a documentação completa</small>
                                    </p>
                                </div>
                                <div class="col-md-4 text-end">
                                    <button class="btn btn-primary btn-sm" onclick="showSection('examples')">
                                        <i class="fas fa-code"></i> Ver Exemplos
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Status Section -->
            <div id="status" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-heartbeat"></i> Status da API
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Endpoint de Status</h5>
                                <div class="endpoint-card card get">
                                    <div class="card-body">
                                        <span class="method-badge method-get">GET</span>
                                        <code>/api/status</code>

                                        <div class="code-block mt-3">
                                            <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                            <pre><code>curl https://apinfe.nexopdv.com/api/status</code></pre>
                                        </div>

                                        <h6 class="mt-3">Resposta:</h6>
                                        <div class="code-block">
                                            <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                            <pre><code>{
  "status": "API NFe/NFC-e Online",
  "timestamp": "2025-05-31 10:00:00",
  "version": "1.1.0",
  "php_version": "8.3.6",
  "domain": "apinfe.nexopdv.com",
  "modelos_suportados": {
    "NFe": "Modelo 55 - Nota Fiscal Eletrônica",
    "NFC-e": "Modelo 65 - Nota Fiscal de Consumidor Eletrônica"
  }
}</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5>Monitoramento</h5>
                                <p>A API possui monitoramento automático que verifica o status a cada 5 minutos.</p>

                                <div class="alert alert-success">
                                    <i class="fas fa-check-circle"></i>
                                    <strong>Auto-restart:</strong> Se a API falhar 3 vezes consecutivas, os serviços são reiniciados automaticamente.
                                </div>

                                <h6>Métricas Disponíveis:</h6>
                                <ul>
                                    <li>Status HTTP da API</li>
                                    <li>Tempo de resposta</li>
                                    <li>Uso de recursos do servidor</li>
                                    <li>Logs de erro em tempo real</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Authentication Section -->
            <div id="authentication" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-key"></i> Autenticação
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i>
                            <strong>Opcional:</strong> A autenticação está configurada mas é opcional para testes.
                        </div>

                        <h5>Token de Acesso</h5>
                        <p>Para usar a autenticação, inclua o header Authorization:</p>

                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                            <pre><code>Authorization: Bearer nfe_api_token_2025</code></pre>
                        </div>

                        <h5 class="mt-4">Exemplo com cURL</h5>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                            <pre><code>curl -H "Authorization: Bearer nfe_api_token_2025" \
     https://apinfe.nexopdv.com/api/status</code></pre>
                        </div>

                        <h5 class="mt-4">Exemplo JavaScript</h5>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                            <pre><code>const response = await fetch('https://apinfe.nexopdv.com/api/status', {
  headers: {
    'Authorization': 'Bearer nfe_api_token_2025',
    'Content-Type': 'application/json'
  }
});</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NFe Generate Section -->
            <div id="nfe-generate" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-file-invoice"></i> Gerar NFe (Modelo 55)
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info">
                            <i class="fas fa-building"></i>
                            <strong>NFe:</strong> Para vendas B2B (empresa para empresa) ou valores acima de R$ 5.000,00
                        </div>

                        <div class="endpoint-card card post">
                            <div class="card-body">
                                <span class="method-badge method-post">POST</span>
                                <code>/api/gerar-nfe</code>

                                <h6 class="mt-3">Payload Exemplo:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "ambiente": 2,
  "empresa": {
    "id": 1,
    "cnpj": "12.345.678/0001-95",
    "name": "Empresa Teste Ltda",
    "inscricao_estadual": "123456789",
    "address": "Rua Teste, 123",
    "city": "São Paulo",
    "state": "SP",
    "zip_code": "01000-000"
  },
  "cliente": {
    "documento": "98.765.432/0001-10",
    "name": "Cliente Empresa Ltda",
    "address": "Av. Cliente, 456",
    "city": "São Paulo",
    "state": "SP"
  },
  "produtos": [
    {
      "codigo": "001",
      "descricao": "Produto Teste",
      "quantidade": 2,
      "valor_unitario": 100.00,
      "valor_total": 200.00,
      "ncm": "12345678",
      "cfop": "5102"
    }
  ],
  "totais": {
    "valor_produtos": 200.00,
    "valor_total": 200.00,
    "natureza_operacao": "VENDA"
  }
}</code></pre>
                                </div>

                                <h6 class="mt-3">Comando cURL:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>curl -X POST https://apinfe.nexopdv.com/api/gerar-nfe \
-H "Content-Type: application/json" \
-d '{
  "ambiente": 2,
  "empresa": {"id": 1, "cnpj": "12.345.678/0001-95", "name": "Empresa Teste"},
  "cliente": {"documento": "98.765.432/0001-10", "name": "Cliente Teste"},
  "produtos": [{"codigo": "001", "descricao": "Produto", "quantidade": 1, "valor_unitario": 100, "valor_total": 100}],
  "totais": {"valor_total": 100, "natureza_operacao": "VENDA"}
}'</code></pre>
                                </div>

                                <h6 class="mt-3">Resposta de Sucesso:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "success": true,
  "data": {
    "xml": "<?xml version=\"1.0\"...",
    "chave": "35250512345678000195550010000000011234567890",
    "numero_nfe": 1
  },
  "timestamp": "2025-05-31 10:00:00"
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NFe Send Section -->
            <div id="nfe-send" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-paper-plane"></i> Enviar NFe para SEFAZ
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info">
                            <i class="fas fa-upload"></i>
                            <strong>Envio:</strong> Transmite a NFe gerada para a SEFAZ para autorização
                        </div>

                        <div class="endpoint-card card post">
                            <div class="card-body">
                                <span class="method-badge method-post">POST</span>
                                <code>/api/enviar-sefaz</code>

                                <h6 class="mt-3">Payload Exemplo:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "ambiente": 2,
  "chave": "35250512345678000195550010000000011234567890",
  "xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>..."
}</code></pre>
                                </div>

                                <h6 class="mt-3">Comando cURL:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>curl -X POST https://apinfe.nexopdv.com/api/enviar-sefaz \
-H "Content-Type: application/json" \
-d '{
  "ambiente": 2,
  "chave": "35250512345678000195550010000000011234567890",
  "xml": "<?xml version=\"1.0\"...>"
}'</code></pre>
                                </div>

                                <h6 class="mt-3">Resposta de Sucesso:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "success": true,
  "data": {
    "status": "autorizada",
    "protocolo": "135250000123456",
    "data_autorizacao": "2025-05-31T10:30:00-03:00"
  },
  "timestamp": "2025-05-31 10:30:00"
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NFe Query Section -->
            <div id="nfe-query" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-search"></i> Consultar NFe
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info">
                            <i class="fas fa-search"></i>
                            <strong>Consulta:</strong> Verifica o status de uma NFe na SEFAZ
                        </div>

                        <div class="endpoint-card card get">
                            <div class="card-body">
                                <span class="method-badge method-get">GET</span>
                                <code>/api/consultar-nfe</code>

                                <h6 class="mt-3">Parâmetros Query:</h6>
                                <ul>
                                    <li><code>chave</code> - Chave da NFe (44 dígitos)</li>
                                    <li><code>ambiente</code> - 1=Produção, 2=Homologação</li>
                                </ul>

                                <h6 class="mt-3">Comando cURL:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>curl "https://apinfe.nexopdv.com/api/consultar-nfe?chave=35250512345678000195550010000000011234567890&ambiente=2"</code></pre>
                                </div>

                                <h6 class="mt-3">Resposta de Sucesso:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "success": true,
  "data": {
    "chave": "35250512345678000195550010000000011234567890",
    "status": "autorizada",
    "protocolo": "135250000123456",
    "data_autorizacao": "2025-05-31T10:30:00-03:00",
    "xml_autorizado": "<?xml version=\"1.0\"...>"
  },
  "timestamp": "2025-05-31 10:35:00"
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- NFe Completa Section -->
            <div id="nfe-completa" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-certificate"></i> NFe Completa - Ciclo Completo
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning">
                            <i class="fas fa-star"></i> <strong>Endpoint Completo:</strong> Gera XML + Assina Digitalmente + Envia para SEFAZ + Retorna com Protocolo
                        </div>

                        <h5>Descrição</h5>
                        <p>Este endpoint executa o ciclo completo da NFe: geração do XML, assinatura digital com certificado A1, envio para SEFAZ e retorno com protocolo de autorização.</p>

                        <h5>Endpoint</h5>
                        <div class="code-block">
                            <pre><code class="language-http">POST /api/nfe-completa</code></pre>
                        </div>

                        <h5>Exemplo de Requisição</h5>
                        <div class="code-block">
                            <pre><code class="language-json">{
  "ambiente": 2,
  "numero_nfe": 12345,
  "empresa": {
    "id": "uuid-da-empresa",
    "cnpj": "24.163.237/0001-51",
    "name": "EMPRESA TESTE LTDA",
    "nome_fantasia": "EMPRESA TESTE",
    "inscricao_estadual": "123456789",
    "regime_tributario": 1,
    "address": "Rua Teste, 123",
    "numero_endereco": "123",
    "bairro": "Centro",
    "city": "São Paulo",
    "state": "SP",
    "zip_code": "01234567",
    "codigo_municipio": "3550308",
    "phone": "11999999999"
  },
  "cliente": {
    "documento": "12345678901",
    "name": "CLIENTE TESTE",
    "address": "Rua Cliente, 456",
    "numero_endereco": "456",
    "bairro": "Bairro",
    "city": "São Paulo",
    "state": "SP",
    "zip_code": "01234567",
    "codigo_municipio": 3550308,
    "emails": ["cliente@email.com"]
  },
  "produtos": [
    {
      "codigo": "PROD001",
      "descricao": "Produto Teste",
      "ncm": "22030000",
      "cfop": "5102",
      "unidade": "UN",
      "quantidade": 1,
      "valor_unitario": 100.00,
      "valor_total": 100.00
    }
  ],
  "totais": {
    "valor_produtos": 100.00,
    "valor_total": 100.00,
    "natureza_operacao": "Venda de Mercadoria"
  },
  "pagamentos": [
    {
      "forma_pagamento": "01",
      "valor": 100.00
    }
  ]
}</code></pre>
                        </div>

                        <h5>Exemplo de Resposta</h5>
                        <div class="code-block">
                            <pre><code class="language-json">{
  "success": true,
  "message": "NFe processada com sucesso",
  "data": {
    "xml": "<?xml version='1.0'?>...",
    "chave": "35250624163237000151550010000000011234567890",
    "numero_nfe": 12345,
    "protocolo": "135202506011030001234",
    "status_sefaz": "100",
    "motivo": "Autorizado o uso da NF-e",
    "data_autorizacao": "2025-06-01T10:30:00-03:00",
    "pdf_path": "../storage/pdfs/chave.pdf",
    "ambiente": "Homologação",
    "codigo_nf": "12345678"
  },
  "timestamp": "2025-06-01 10:30:00"
}</code></pre>
                        </div>

                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i> <strong>Diferencial:</strong> Este endpoint retorna a NFe já autorizada pelo SEFAZ com protocolo válido, pronta para uso.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Consultar NFe Completa Section -->
            <div id="nfe-consultar-completa" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-search"></i> Consultar Status NFe
                    </div>
                    <div class="card-body">
                        <h5>Descrição</h5>
                        <p>Consulta o status atual de uma NFe no SEFAZ usando a chave de acesso.</p>

                        <h5>Endpoint</h5>
                        <div class="code-block">
                            <pre><code class="language-http">POST /api/consultar-nfe-completa</code></pre>
                        </div>

                        <h5>Exemplo de Requisição</h5>
                        <div class="code-block">
                            <pre><code class="language-json">{
  "chave": "35250624163237000151550010000000011234567890",
  "empresa_id": "uuid-da-empresa"
}</code></pre>
                        </div>

                        <h5>Exemplo de Resposta</h5>
                        <div class="code-block">
                            <pre><code class="language-json">{
  "success": true,
  "data": {
    "sucesso": true,
    "chave": "35250624163237000151550010000000011234567890",
    "status": "100",
    "motivo": "Autorizado o uso da NF-e",
    "protocolo": "135202506011030001234",
    "data_autorizacao": "2025-06-01T10:30:00-03:00",
    "ambiente": "Homologação"
  },
  "timestamp": "2025-06-01 10:30:00"
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cancelar NFe Section -->
            <div id="nfe-cancelar" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-times-circle"></i> Cancelar NFe
                    </div>
                    <div class="card-body">
                        <div class="alert alert-danger">
                            <i class="fas fa-exclamation-triangle"></i> <strong>Atenção:</strong> O cancelamento é irreversível e deve ser usado apenas quando necessário.
                        </div>

                        <h5>Descrição</h5>
                        <p>Cancela uma NFe autorizada no SEFAZ. Requer justificativa com pelo menos 15 caracteres.</p>

                        <h5>Endpoint</h5>
                        <div class="code-block">
                            <pre><code class="language-http">POST /api/cancelar-nfe-completa</code></pre>
                        </div>

                        <h5>Exemplo de Requisição</h5>
                        <div class="code-block">
                            <pre><code class="language-json">{
  "chave": "35250624163237000151550010000000011234567890",
  "justificativa": "Cancelamento solicitado pelo cliente devido a erro no pedido",
  "empresa_id": "uuid-da-empresa"
}</code></pre>
                        </div>

                        <h5>Exemplo de Resposta</h5>
                        <div class="code-block">
                            <pre><code class="language-json">{
  "success": true,
  "data": {
    "sucesso": true,
    "chave": "35250624163237000151550010000000011234567890",
    "status": "101",
    "motivo": "Cancelamento de NF-e homologado",
    "protocolo": "135202506011030005678",
    "data_cancelamento": "2025-06-01T11:00:00-03:00",
    "justificativa": "Cancelamento solicitado pelo cliente devido a erro no pedido",
    "ambiente": "Homologação"
  },
  "timestamp": "2025-06-01 11:00:00"
}</code></pre>
                        </div>

                        <div class="alert alert-warning">
                            <i class="fas fa-clock"></i> <strong>Prazo:</strong> NFe pode ser cancelada em até 24 horas após a autorização.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Carta de Correção Section -->
            <div id="nfe-carta-correcao" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-edit"></i> Carta de Correção Eletrônica
                    </div>
                    <div class="card-body">
                        <h5>Descrição</h5>
                        <p>Emite uma Carta de Correção Eletrônica (CC-e) para corrigir dados de uma NFe já autorizada.</p>

                        <h5>Endpoint</h5>
                        <div class="code-block">
                            <pre><code class="language-http">POST /api/carta-correcao-nfe</code></pre>
                        </div>

                        <h5>Exemplo de Requisição</h5>
                        <div class="code-block">
                            <pre><code class="language-json">{
  "chave": "35250624163237000151550010000000011234567890",
  "correcao": "Correção do endereço de entrega: Rua Nova, 789 - Bairro Novo",
  "sequencia": 1,
  "empresa_id": "uuid-da-empresa"
}</code></pre>
                        </div>

                        <h5>Exemplo de Resposta</h5>
                        <div class="code-block">
                            <pre><code class="language-json">{
  "success": true,
  "data": {
    "sucesso": true,
    "chave": "35250624163237000151550010000000011234567890",
    "status": "135",
    "motivo": "Evento registrado e vinculado a NF-e",
    "protocolo": "135202506011030009999",
    "data_evento": "2025-06-01T12:00:00-03:00",
    "correcao": "Correção do endereço de entrega: Rua Nova, 789 - Bairro Novo",
    "sequencia": 1,
    "ambiente": "Homologação"
  },
  "timestamp": "2025-06-01 12:00:00"
}</code></pre>
                        </div>

                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i> <strong>Limitações:</strong> Não é possível corrigir valores, quantidades ou dados que alterem o imposto devido.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Status SEFAZ Section -->
            <div id="status-sefaz" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-server"></i> Status dos Servidores SEFAZ
                    </div>
                    <div class="card-body">
                        <h5>Descrição</h5>
                        <p>Consulta o status de disponibilidade dos servidores SEFAZ para verificar se estão operacionais.</p>

                        <h5>Endpoint</h5>
                        <div class="code-block">
                            <pre><code class="language-http">GET /api/status-sefaz</code></pre>
                        </div>

                        <h5>Parâmetros (Query String)</h5>
                        <ul>
                            <li><code>uf</code> (opcional): UF para consultar (padrão: SP)</li>
                            <li><code>ambiente</code> (opcional): 1=Produção, 2=Homologação (padrão: 2)</li>
                        </ul>

                        <h5>Exemplo de Requisição</h5>
                        <div class="code-block">
                            <pre><code class="language-http">GET /api/status-sefaz?uf=SP&ambiente=2</code></pre>
                        </div>

                        <h5>Exemplo de Resposta</h5>
                        <div class="code-block">
                            <pre><code class="language-json">{
  "success": true,
  "data": {
    "uf": "SP",
    "ambiente": "Homologação",
    "status": "online",
    "codigo_status": "107",
    "motivo": "Serviço em Operação",
    "tempo_resposta": "1.2s",
    "data_consulta": "2025-06-01T10:30:00-03:00"
  },
  "timestamp": "2025-06-01 10:30:00"
}</code></pre>
                        </div>

                        <div class="alert alert-success">
                            <i class="fas fa-check-circle"></i> <strong>Uso Recomendado:</strong> Consulte antes de enviar lotes de NFe para verificar disponibilidade.
                        </div>
                    </div>
                </div>
            </div>
            <!-- NFC-e Generate Section -->
            <div id="nfce-generate" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-receipt"></i> Gerar NFC-e (Modelo 65)
                    </div>
                    <div class="card-body">
                        <div class="alert alert-success">
                            <i class="fas fa-shopping-cart"></i>
                            <strong>NFC-e:</strong> Para vendas ao consumidor final (B2C) até R$ 5.000,00
                        </div>

                        <div class="endpoint-card card post">
                            <div class="card-body">
                                <span class="method-badge method-post">POST</span>
                                <code>/api/gerar-nfce</code>

                                <h6 class="mt-3">Payload Exemplo:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "ambiente": 2,
  "empresa": {
    "id": 1,
    "cnpj": "12.345.678/0001-95",
    "name": "Loja Teste ME",
    "inscricao_estadual": "123456789",
    "address": "Rua Comercial, 123",
    "city": "São Paulo",
    "state": "SP",
    "zip_code": "01000-000"
  },
  "produtos": [
    {
      "codigo": "001",
      "descricao": "Produto Varejo",
      "quantidade": 1,
      "valor_unitario": 25.50,
      "valor_total": 25.50
    }
  ],
  "totais": {
    "valor_produtos": 25.50,
    "valor_total": 25.50
  },
  "pagamentos": [
    {
      "tipo": "01",
      "valor": 25.50
    }
  ]
}</code></pre>
                                </div>

                                <h6 class="mt-3">Comando cURL:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>curl -X POST https://apinfe.nexopdv.com/api/gerar-nfce \
-H "Content-Type: application/json" \
-d '{
  "ambiente": 2,
  "empresa": {"id": 1, "cnpj": "12.345.678/0001-95", "name": "Loja Teste"},
  "produtos": [{"codigo": "001", "descricao": "Produto", "quantidade": 1, "valor_unitario": 25.50, "valor_total": 25.50}],
  "totais": {"valor_total": 25.50},
  "pagamentos": [{"tipo": "01", "valor": 25.50}]
}'</code></pre>
                                </div>

                                <h6 class="mt-3">Resposta de Sucesso:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "success": true,
  "data": {
    "xml": "<?xml version=\"1.0\"...",
    "chave": "35250512345678000195650010000000011234567890",
    "numero_nfce": 1,
    "qr_code": "https://www.fazenda.sp.gov.br/nfce/qrcode?...",
    "url_consulta": "https://www.nfce.fazenda.sp.gov.br/NFCeConsultaPublica/..."
  },
  "timestamp": "2025-05-31 10:00:00"
}</code></pre>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-md-6">
                                <h5>Tipos de Pagamento</h5>
                                <table class="table table-dark table-sm">
                                    <thead>
                                        <tr>
                                            <th>Código</th>
                                            <th>Descrição</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr><td>01</td><td>Dinheiro</td></tr>
                                        <tr><td>03</td><td>Cartão de Crédito</td></tr>
                                        <tr><td>04</td><td>Cartão de Débito</td></tr>
                                        <tr><td>05</td><td>Crédito Loja</td></tr>
                                        <tr><td>99</td><td>Outros</td></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-md-6">
                                <h5>Validações NFC-e</h5>
                                <ul>
                                    <li>Valor máximo: R$ 5.000,00</li>
                                    <li>Pagamentos obrigatórios</li>
                                    <li>Cliente opcional (consumidor)</li>
                                    <li>QR Code gerado automaticamente</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NFC-e Send Section -->
            <div id="nfce-send" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-share"></i> Enviar NFC-e para SEFAZ
                    </div>
                    <div class="card-body">
                        <div class="alert alert-success">
                            <i class="fas fa-upload"></i>
                            <strong>Envio NFC-e:</strong> Transmite a NFC-e gerada para a SEFAZ para autorização
                        </div>

                        <div class="endpoint-card card post">
                            <div class="card-body">
                                <span class="method-badge method-post">POST</span>
                                <code>/api/enviar-nfce-sefaz</code>

                                <h6 class="mt-3">Payload Exemplo:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "ambiente": 2,
  "chave": "35250512345678000195650010000000011234567890",
  "xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>..."
}</code></pre>
                                </div>

                                <h6 class="mt-3">Comando cURL:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>curl -X POST https://apinfe.nexopdv.com/api/enviar-nfce-sefaz \
-H "Content-Type: application/json" \
-d '{
  "ambiente": 2,
  "chave": "35250512345678000195650010000000011234567890",
  "xml": "<?xml version=\"1.0\"...>"
}'</code></pre>
                                </div>

                                <h6 class="mt-3">Resposta de Sucesso:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "success": true,
  "data": {
    "status": "autorizada",
    "protocolo": "135250000123456",
    "data_autorizacao": "2025-05-31T10:30:00-03:00",
    "qr_code": "https://www.fazenda.sp.gov.br/nfce/qrcode?...",
    "url_consulta": "https://www.nfce.fazenda.sp.gov.br/NFCeConsultaPublica/..."
  },
  "timestamp": "2025-05-31 10:30:00"
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NFC-e Query Section -->
            <div id="nfce-query" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-eye"></i> Consultar NFC-e
                    </div>
                    <div class="card-body">
                        <div class="alert alert-success">
                            <i class="fas fa-search"></i>
                            <strong>Consulta NFC-e:</strong> Verifica o status de uma NFC-e na SEFAZ
                        </div>

                        <div class="endpoint-card card get">
                            <div class="card-body">
                                <span class="method-badge method-get">GET</span>
                                <code>/api/consultar-nfce</code>

                                <h6 class="mt-3">Parâmetros Query:</h6>
                                <ul>
                                    <li><code>chave</code> - Chave da NFC-e (44 dígitos)</li>
                                    <li><code>ambiente</code> - 1=Produção, 2=Homologação</li>
                                </ul>

                                <h6 class="mt-3">Comando cURL:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>curl "https://apinfe.nexopdv.com/api/consultar-nfce?chave=35250512345678000195650010000000011234567890&ambiente=2"</code></pre>
                                </div>

                                <h6 class="mt-3">Resposta de Sucesso:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "success": true,
  "data": {
    "chave": "35250512345678000195650010000000011234567890",
    "status": "autorizada",
    "protocolo": "135250000123456",
    "data_autorizacao": "2025-05-31T10:30:00-03:00",
    "qr_code": "https://www.fazenda.sp.gov.br/nfce/qrcode?...",
    "url_consulta": "https://www.nfce.fazenda.sp.gov.br/NFCeConsultaPublica/...",
    "xml_autorizado": "<?xml version=\"1.0\"...>"
  },
  "timestamp": "2025-05-31 10:35:00"
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NFC-e Cancel Section -->
            <div id="nfce-cancel" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-times-circle"></i> Cancelar NFC-e
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            <strong>Cancelamento:</strong> Cancela uma NFC-e autorizada (até 24h após emissão)
                        </div>

                        <div class="endpoint-card card post">
                            <div class="card-body">
                                <span class="method-badge method-post">POST</span>
                                <code>/api/cancelar-nfce</code>

                                <h6 class="mt-3">Payload Exemplo:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "ambiente": 2,
  "chave": "35250512345678000195650010000000011234567890",
  "protocolo": "135250000123456",
  "justificativa": "Erro na emissão do documento fiscal"
}</code></pre>
                                </div>

                                <h6 class="mt-3">Comando cURL:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>curl -X POST https://apinfe.nexopdv.com/api/cancelar-nfce \
-H "Content-Type: application/json" \
-d '{
  "ambiente": 2,
  "chave": "35250512345678000195650010000000011234567890",
  "protocolo": "135250000123456",
  "justificativa": "Erro na emissão do documento fiscal"
}'</code></pre>
                                </div>

                                <h6 class="mt-3">Resposta de Sucesso:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "success": true,
  "data": {
    "status": "cancelada",
    "protocolo_cancelamento": "135250000123457",
    "data_cancelamento": "2025-05-31T11:00:00-03:00",
    "xml_cancelamento": "<?xml version=\"1.0\"...>"
  },
  "timestamp": "2025-05-31 11:00:00"
}</code></pre>
                                </div>

                                <div class="alert alert-info mt-3">
                                    <h6>Regras de Cancelamento:</h6>
                                    <ul class="mb-0">
                                        <li>Prazo: Até 24 horas após autorização</li>
                                        <li>Justificativa: Mínimo 15 caracteres</li>
                                        <li>Protocolo: Obrigatório da autorização original</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NFC-e QR Code Section -->
            <div id="nfce-qrcode" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-qrcode"></i> Gerar QR Code NFC-e
                    </div>
                    <div class="card-body">
                        <div class="alert alert-success">
                            <i class="fas fa-qrcode"></i>
                            <strong>QR Code:</strong> Gera QR Code para consulta pública da NFC-e
                        </div>

                        <div class="endpoint-card card post">
                            <div class="card-body">
                                <span class="method-badge method-post">POST</span>
                                <code>/api/gerar-qrcode-nfce</code>

                                <h6 class="mt-3">Payload Exemplo:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "chave": "35250512345678000195650010000000011234567890",
  "ambiente": 2,
  "valor_total": 25.50,
  "digest_value": "abc123def456..."
}</code></pre>
                                </div>

                                <h6 class="mt-3">Comando cURL:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>curl -X POST https://apinfe.nexopdv.com/api/gerar-qrcode-nfce \
-H "Content-Type: application/json" \
-d '{
  "chave": "35250512345678000195650010000000011234567890",
  "ambiente": 2,
  "valor_total": 25.50,
  "digest_value": "abc123def456..."
}'</code></pre>
                                </div>

                                <h6 class="mt-3">Resposta de Sucesso:</h6>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>{
  "success": true,
  "data": {
    "qr_code": "https://www.fazenda.sp.gov.br/nfce/qrcode?p=35250512345678000195650010000000011234567890|2|1|1|abc123def456",
    "url_consulta": "https://www.nfce.fazenda.sp.gov.br/NFCeConsultaPublica/Paginas/ConsultaQRCode.aspx?chNFe=35250512345678000195650010000000011234567890",
    "qr_code_image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA..."
  },
  "timestamp": "2025-05-31 10:30:00"
}</code></pre>
                                </div>

                                <div class="row mt-3">
                                    <div class="col-md-6">
                                        <h6>Componentes do QR Code:</h6>
                                        <ul class="small">
                                            <li><strong>Chave:</strong> 44 dígitos da NFC-e</li>
                                            <li><strong>Ambiente:</strong> 1=Prod, 2=Homolog</li>
                                            <li><strong>Valor:</strong> Total da NFC-e</li>
                                            <li><strong>Digest:</strong> Hash do XML</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <h6>Formatos de Retorno:</h6>
                                        <ul class="small">
                                            <li><strong>URL:</strong> Link direto para consulta</li>
                                            <li><strong>QR Code:</strong> String formatada</li>
                                            <li><strong>Imagem:</strong> Base64 do QR Code</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Environments Section -->
            <div id="environments" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-cogs"></i> Ambientes (Homologação vs Produção)
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header bg-primary">
                                        <i class="fas fa-flask"></i> Homologação (Ambiente 2)
                                    </div>
                                    <div class="card-body">
                                        <p><strong>Para:</strong> Desenvolvimento e testes</p>
                                        <ul>
                                            <li>Certificados de teste aceitos</li>
                                            <li>Dados fictícios permitidos</li>
                                            <li>Sem valor fiscal real</li>
                                            <li>URLs de teste da SEFAZ</li>
                                        </ul>

                                        <div class="code-block">
                                            <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                            <pre><code>{"ambiente": 2}</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header bg-success">
                                        <i class="fas fa-check-circle"></i> Produção (Ambiente 1)
                                    </div>
                                    <div class="card-body">
                                        <p><strong>Para:</strong> Documentos fiscais válidos</p>
                                        <ul>
                                            <li>Certificado digital REAL obrigatório</li>
                                            <li>Dados reais obrigatórios</li>
                                            <li>Gera documentos fiscais válidos</li>
                                            <li>URLs oficiais da SEFAZ</li>
                                        </ul>

                                        <div class="code-block">
                                            <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                            <pre><code>{"ambiente": 1}</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-warning mt-3">
                            <i class="fas fa-exclamation-triangle"></i>
                            <strong>Importante:</strong> O ambiente pode ser definido globalmente no .env ou por requisição via parâmetro "ambiente".
                        </div>
                    </div>
                </div>
            </div>

            <!-- Logs Section -->
            <div id="logs" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-list-alt"></i> Sistema de Logs
                    </div>
                    <div class="card-body">
                        <p>A API possui um sistema completo de logs para debug e monitoramento.</p>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="endpoint-card card get">
                                    <div class="card-body">
                                        <span class="method-badge method-get">GET</span>
                                        <code>/api/logs</code>

                                        <h6 class="mt-3">Parâmetros:</h6>
                                        <ul class="small">
                                            <li><code>level</code>: all, info, error, debug</li>
                                            <li><code>limit</code>: quantidade (padrão: 100)</li>
                                            <li><code>offset</code>: paginação (padrão: 0)</li>
                                        </ul>

                                        <div class="code-block">
                                            <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                            <pre><code>curl "https://apinfe.nexopdv.com/api/logs?level=error&limit=10" \
-H "Authorization: Bearer nfe_api_token_2025"</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="endpoint-card card get">
                                    <div class="card-body">
                                        <span class="method-badge method-get">GET</span>
                                        <code>/api/logs/monitor</code>

                                        <h6 class="mt-3">Logs de Monitoramento:</h6>
                                        <p class="small">Status da API, reinicializações, alertas</p>

                                        <div class="code-block">
                                            <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                            <pre><code>curl "https://apinfe.nexopdv.com/api/logs/monitor?limit=5" \
-H "Authorization: Bearer nfe_api_token_2025"</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="endpoint-card card post">
                                    <div class="card-body">
                                        <span class="method-badge method-post">POST</span>
                                        <code>/api/logs/clear</code>

                                        <h6 class="mt-3">Limpar Logs:</h6>
                                        <p class="small">Payload: {"type": "nfe"}</p>

                                        <div class="code-block">
                                            <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                            <pre><code>curl -X POST "https://apinfe.nexopdv.com/api/logs/clear" \
-H "Content-Type: application/json" \
-H "Authorization: Bearer nfe_api_token_2025" \
-d '{"type": "nfe"}'</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Examples Section -->
            <div id="examples" class="section">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-code"></i> Exemplos de Implementação
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>JavaScript/React</h5>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code>// Função para gerar NFC-e
const gerarNFCe = async (dados) => {
  try {
    const response = await fetch('https://apinfe.nexopdv.com/api/gerar-nfce', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer nfe_api_token_2025'
      },
      body: JSON.stringify({
        ambiente: 2, // Homologação
        ...dados
      })
    });

    const result = await response.json();

    if (result.success) {
      console.log('NFC-e gerada:', result.data.chave);
      return result.data;
    } else {
      throw new Error(result.error);
    }
  } catch (error) {
    console.error('Erro ao gerar NFC-e:', error);
    throw error;
  }
};

// Exemplo de uso
const dadosNFCe = {
  empresa: {
    id: 1,
    cnpj: "12.345.678/0001-95",
    name: "Loja Teste"
  },
  produtos: [
    {
      codigo: "001",
      descricao: "Produto Teste",
      quantidade: 1,
      valor_unitario: 10.00,
      valor_total: 10.00
    }
  ],
  totais: {
    valor_total: 10.00
  },
  pagamentos: [
    {
      tipo: "01", // Dinheiro
      valor: 10.00
    }
  ]
};

gerarNFCe(dadosNFCe)
  .then(nfce => {
    console.log('Chave:', nfce.chave);
    console.log('QR Code:', nfce.qr_code);
  })
  .catch(error => {
    console.error('Erro:', error.message);
  });</code></pre>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5>PHP</h5>
                                <div class="code-block">
                                    <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                                    <pre><code><?php
// Função para gerar NFe
function gerarNFe($dados) {
    $url = 'https://apinfe.nexopdv.com/api/gerar-nfe';

    $payload = array_merge([
        'ambiente' => 2 // Homologação
    ], $dados);

    $ch = curl_init();
    curl_setopt_array($ch, [
        CURLOPT_URL => $url,
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_POST => true,
        CURLOPT_POSTFIELDS => json_encode($payload),
        CURLOPT_HTTPHEADER => [
            'Content-Type: application/json',
            'Authorization: Bearer nfe_api_token_2025'
        ]
    ]);

    $response = curl_exec($ch);
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
    curl_close($ch);

    if ($httpCode === 200) {
        return json_decode($response, true);
    } else {
        throw new Exception('Erro HTTP: ' . $httpCode);
    }
}

// Exemplo de uso
$dadosNFe = [
    'empresa' => [
        'id' => 1,
        'cnpj' => '12.345.678/0001-95',
        'name' => 'Empresa Teste'
    ],
    'cliente' => [
        'documento' => '98.765.432/0001-10',
        'name' => 'Cliente Teste'
    ],
    'produtos' => [
        [
            'codigo' => '001',
            'descricao' => 'Produto Teste',
            'quantidade' => 1,
            'valor_unitario' => 100.00,
            'valor_total' => 100.00
        ]
    ],
    'totais' => [
        'valor_total' => 100.00,
        'natureza_operacao' => 'VENDA'
    ]
];

try {
    $resultado = gerarNFe($dadosNFe);

    if ($resultado['success']) {
        echo "NFe gerada: " . $resultado['data']['chave'];
    } else {
        echo "Erro: " . $resultado['error'];
    }
} catch (Exception $e) {
    echo "Erro: " . $e->getMessage();
}
?></code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <script>
        // Navegação entre seções
        function showSection(sectionId) {
            console.log('Tentando mostrar seção:', sectionId);

            // Esconder todas as seções
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });

            // Remover classe active de todos os links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });

            // Verificar se a seção existe
            const targetSection = document.getElementById(sectionId);
            if (!targetSection) {
                console.error('Seção não encontrada:', sectionId);
                return;
            }

            // Mostrar seção selecionada
            targetSection.classList.add('active');
            console.log('Seção ativada:', sectionId);

            // Adicionar classe active ao link clicado
            if (event && event.target) {
                event.target.classList.add('active');
            }

            // Atualizar título da seção
            const titles = {
                'overview': 'Visão Geral',
                'status': 'Status da API',
                'authentication': 'Autenticação',
                'nfe-generate': 'Gerar NFe',
                'nfe-send': 'Enviar NFe SEFAZ',
                'nfe-query': 'Consultar NFe',
                'nfe-completa': 'NFe Completa',
                'nfe-consultar-completa': 'Consultar NFe Completa',
                'nfe-cancelar': 'Cancelar NFe',
                'nfe-carta-correcao': 'Carta de Correção',
                'status-sefaz': 'Status SEFAZ',
                'nfce-generate': 'Gerar NFC-e',
                'nfce-send': 'Enviar NFC-e SEFAZ',
                'nfce-query': 'Consultar NFC-e',
                'nfce-cancel': 'Cancelar NFC-e',
                'nfce-qrcode': 'QR Code NFC-e',
                'environments': 'Ambientes',
                'logs': 'Sistema de Logs',
                'examples': 'Exemplos de Código'
            };

            const subtitles = {
                'overview': 'API completa para emissão de NFe e NFC-e',
                'status': 'Monitoramento e status da API',
                'authentication': 'Sistema de autenticação da API',
                'nfe-generate': 'Geração de Nota Fiscal Eletrônica (Modelo 55)',
                'nfe-send': 'Envio de NFe para SEFAZ',
                'nfe-query': 'Consulta de NFe na SEFAZ',
                'nfe-completa': 'Ciclo completo de NFe com assinatura e envio SEFAZ',
                'nfe-consultar-completa': 'Consulta status de NFe no SEFAZ',
                'nfe-cancelar': 'Cancelamento de NFe autorizada',
                'nfe-carta-correcao': 'Carta de Correção Eletrônica',
                'status-sefaz': 'Verificação de status dos servidores SEFAZ',
                'nfce-generate': 'Geração de Nota Fiscal de Consumidor Eletrônica (Modelo 65)',
                'nfce-send': 'Envio de NFC-e para SEFAZ',
                'nfce-query': 'Consulta de NFC-e na SEFAZ',
                'nfce-cancel': 'Cancelamento de NFC-e',
                'nfce-qrcode': 'Geração de QR Code para NFC-e',
                'environments': 'Configuração de ambientes de homologação e produção',
                'logs': 'Sistema completo de logs e monitoramento',
                'examples': 'Exemplos práticos de implementação'
            };

            document.getElementById('section-title').textContent = titles[sectionId];
            document.getElementById('section-subtitle').textContent = subtitles[sectionId];

            // Fechar sidebar no mobile
            if (window.innerWidth <= 768) {
                document.getElementById('sidebar').classList.remove('show');
            }
        }

        // Toggle sidebar mobile
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('show');
        }

        // Copiar código
        function copyCode(button) {
            const codeBlock = button.nextElementSibling.querySelector('code');
            const text = codeBlock.textContent;

            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = 'Copiado!';
                button.style.backgroundColor = '#3fb950';

                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.backgroundColor = '#58a6ff';
                }, 2000);
            }).catch(err => {
                console.error('Erro ao copiar:', err);
                button.textContent = 'Erro';
                setTimeout(() => {
                    button.textContent = 'Copiar';
                }, 2000);
            });
        }

        // Testar API
        async function testAPI() {
            const button = event.target;
            const originalText = button.innerHTML;

            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Testando...';
            button.disabled = true;

            try {
                const response = await fetch('https://apinfe.nexopdv.com/api/status');
                const data = await response.json();

                if (response.ok) {
                    button.innerHTML = '<i class="fas fa-check"></i> API Online';
                    button.className = 'btn btn-success btn-sm';

                    // Mostrar resultado
                    alert(`API Status: ${data.status}\nVersão: ${data.version}\nTimestamp: ${data.timestamp}`);
                } else {
                    throw new Error('API Offline');
                }
            } catch (error) {
                button.innerHTML = '<i class="fas fa-times"></i> API Offline';
                button.className = 'btn btn-danger btn-sm';
                alert('Erro ao conectar com a API: ' + error.message);
            }

            setTimeout(() => {
                button.innerHTML = originalText;
                button.className = 'btn btn-outline-primary btn-sm';
                button.disabled = false;
            }, 3000);
        }

        // Fechar sidebar ao clicar fora (mobile)
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768) {
                const sidebar = document.getElementById('sidebar');
                const toggle = document.querySelector('.mobile-toggle');

                if (!sidebar.contains(e.target) && !toggle.contains(e.target)) {
                    sidebar.classList.remove('show');
                }
            }
        });

        // Highlight sintaxe
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof Prism !== 'undefined') {
                Prism.highlightAll();
            }
        });

        // Smooth scroll para links internos
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Auto-refresh status (opcional)
        setInterval(async () => {
            try {
                const response = await fetch('https://apinfe.nexopdv.com/api/status');
                const statusIndicator = document.querySelector('.status-indicator');

                if (response.ok) {
                    statusIndicator.className = 'status-indicator status-online';
                } else {
                    statusIndicator.className = 'status-indicator status-offline';
                }
            } catch (error) {
                const statusIndicator = document.querySelector('.status-indicator');
                statusIndicator.className = 'status-indicator status-offline';
            }
        }, 30000); // Verificar a cada 30 segundos
        // Sistema de Busca
        const searchData = [
            { id: 'nfe-generate', title: 'Gerar NFe', method: 'POST', endpoint: '/api/gerar-nfe', description: 'Gerar Nota Fiscal Eletrônica modelo 55', category: 'NFe' },
            { id: 'nfe-send', title: 'Enviar NFe', method: 'POST', endpoint: '/api/enviar-sefaz', description: 'Enviar NFe para SEFAZ para autorização', category: 'NFe' },
            { id: 'nfe-query', title: 'Consultar NFe', method: 'GET', endpoint: '/api/consultar-nfe', description: 'Consultar status da NFe na SEFAZ', category: 'NFe' },
            { id: 'nfe-completa', title: 'NFe Completa', method: 'POST', endpoint: '/api/nfe-completa', description: 'Ciclo completo de NFe com assinatura e envio SEFAZ', category: 'NFe' },
            { id: 'nfe-consultar-completa', title: 'Consultar NFe Completa', method: 'POST', endpoint: '/api/consultar-nfe-completa', description: 'Consultar status de NFe no SEFAZ', category: 'NFe' },
            { id: 'nfe-cancelar', title: 'Cancelar NFe', method: 'POST', endpoint: '/api/cancelar-nfe-completa', description: 'Cancelar NFe autorizada', category: 'NFe' },
            { id: 'nfe-carta-correcao', title: 'Carta de Correção', method: 'POST', endpoint: '/api/carta-correcao-nfe', description: 'Carta de Correção Eletrônica', category: 'NFe' },
            { id: 'status-sefaz', title: 'Status SEFAZ', method: 'GET', endpoint: '/api/status-sefaz', description: 'Verificar status dos servidores SEFAZ', category: 'Sistema' },
            { id: 'nfce-generate', title: 'Gerar NFC-e', method: 'POST', endpoint: '/api/gerar-nfce', description: 'Gerar Nota Fiscal de Consumidor modelo 65', category: 'NFC-e' },
            { id: 'nfce-send', title: 'Enviar NFC-e', method: 'POST', endpoint: '/api/enviar-nfce-sefaz', description: 'Enviar NFC-e para SEFAZ para autorização', category: 'NFC-e' },
            { id: 'nfce-query', title: 'Consultar NFC-e', method: 'GET', endpoint: '/api/consultar-nfce', description: 'Consultar status da NFC-e na SEFAZ', category: 'NFC-e' },
            { id: 'nfce-cancel', title: 'Cancelar NFC-e', method: 'POST', endpoint: '/api/cancelar-nfce', description: 'Cancelar NFC-e autorizada (até 24h)', category: 'NFC-e' },
            { id: 'nfce-qrcode', title: 'QR Code NFC-e', method: 'POST', endpoint: '/api/gerar-qrcode-nfce', description: 'Gerar QR Code para consulta pública da NFC-e', category: 'NFC-e' },
            { id: 'status', title: 'Status da API', method: 'GET', endpoint: '/api/status', description: 'Verificar status e informações da API', category: 'Sistema' },
            { id: 'logs', title: 'Logs da API', method: 'GET', endpoint: '/api/logs', description: 'Buscar e visualizar logs do sistema', category: 'Sistema' },
            { id: 'environments', title: 'Ambientes', method: '', endpoint: '', description: 'Configuração de ambientes homologação e produção', category: 'Sistema' }
        ];

        function initSearch() {
            const searchInput = document.getElementById('searchInput');
            const searchResults = document.getElementById('searchResults');

            if (!searchInput || !searchResults) return;

            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase().trim();

                if (query.length < 2) {
                    searchResults.style.display = 'none';
                    return;
                }

                const results = searchData.filter(item =>
                    item.title.toLowerCase().includes(query) ||
                    item.endpoint.toLowerCase().includes(query) ||
                    item.description.toLowerCase().includes(query) ||
                    item.method.toLowerCase().includes(query) ||
                    item.category.toLowerCase().includes(query)
                );

                displaySearchResults(results, query);
            });

            // Fechar resultados ao clicar fora
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                    searchResults.style.display = 'none';
                }
            });
        }

        function displaySearchResults(results, query) {
            const searchResults = document.getElementById('searchResults');

            if (results.length === 0) {
                searchResults.innerHTML = '<div class="search-result-item">Nenhum resultado encontrado</div>';
                searchResults.style.display = 'block';
                return;
            }

            const html = results.map(item => {
                const highlightedTitle = highlightText(item.title, query);
                const highlightedEndpoint = highlightText(item.endpoint, query);
                const highlightedDescription = highlightText(item.description, query);

                return `
                    <div class="search-result-item" onclick="showSection('${item.id}'); document.getElementById('searchResults').style.display='none'; document.getElementById('searchInput').value='';">
                        <div class="d-flex align-items-center">
                            ${item.method ? `<span class="method-badge method-${item.method.toLowerCase()}">${item.method}</span>` : ''}
                            <code class="ms-2">${highlightedEndpoint}</code>
                        </div>
                        <div class="mt-1">
                            <strong>${highlightedTitle}</strong>
                            <small class="text-muted d-block">${highlightedDescription}</small>
                        </div>
                    </div>
                `;
            }).join('');

            searchResults.innerHTML = html;
            searchResults.style.display = 'block';
        }

        function highlightText(text, query) {
            if (!query || !text) return text;
            const regex = new RegExp(`(${query})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }

        // Inicializar busca quando a página carregar
        document.addEventListener('DOMContentLoaded', function() {
            initSearch();
        });

    </script>
</body>
</html>
